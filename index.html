<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Valentine My Love ðŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
@font-face {
    font-family: 'HeartFont';
    src: url('fonts/TheHeartOfEverything.ttf') format('truetype');
}

/* ---------------- BASE ---------------- */

* {
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    margin: 0;
    background: #f49cbb;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    transition: 0.4s ease;
}

body.night {
    background: #121220;
    color: white;
}

/* ---------------- CARD ---------------- */

.card {
    width: 90%;
    max-width: 450px;
    background: #fff;
    border-radius: 20px;
    padding: 25px;
    text-align: center;
    position: relative;
    transition: 0.4s ease;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

body.night .card {
    background: #1e1e35;
}

/* ---------------- GIF ---------------- */

.gif {
    width: 220px;
    height: 220px;
    object-fit: contain;
    margin-bottom: 15px;
}

/* ---------------- TEXT ---------------- */

.proposal-text {
    font-family: 'HeartFont', cursive;
    font-size: 28px;
    margin-bottom: 10px;
}

.typewriter {
    min-height: 24px;
    margin-bottom: 20px;
    font-size: 16px;
}

/* ---------------- BUTTONS ---------------- */

.buttons {
    position: relative;
    height: 70px;
}

.btn {
    width: 110px;
    height: 45px;
    border-radius: 999px;
    border: none;
    font-size: 16px;
    cursor: pointer;
    position: absolute;
    transition: 0.3s ease;
}

#yesBtn {
    background: #dd2d4a;
    color: white;
    left: 20%;
}

#yesBtn:hover {
    animation: heartbeat 0.6s infinite;
}

@keyframes heartbeat {
    0% { transform: scale(1); }
    50% { transform: scale(1.12); }
    100% { transform: scale(1); }
}

#noBtn {
    background: #ccc;
    left: 60%;
}

/* ---------------- TOGGLE ---------------- */

#themeToggle {
    position: fixed;
    top: 15px;
    right: 15px;
    padding: 8px 14px;
    border-radius: 20px;
    border: none;
    cursor: pointer;
    z-index: 3;
}

/* ---------------- FLOATING HEARTS ---------------- */

.heart {
    position: fixed;
    bottom: -20px;
    font-size: 20px;
    animation: floatUp 6s linear infinite;
}

@keyframes floatUp {
    to {
        transform: translateY(-110vh);
        opacity: 0;
    }
}

/* ---------------- FIREWORKS ---------------- */

canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
}
</style>
</head>

<body>

<button id="themeToggle">ðŸŒ™ Night</button>

<audio id="bgMusic" autoplay loop>
  <source src="audio/hearty-touching-soft.mp3" type="audio/mp3">
</audio>

<canvas id="fireworksCanvas"></canvas>

<div class="card" id="mainCard">

    <img class="gif"
    src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" />

    <h2 class="proposal-text">
        Nonu, will you be my valentine? ðŸ’–
    </h2>

    <div class="typewriter" id="typewriter"></div>

    <div class="buttons">
        <button id="yesBtn" class="btn">Yes ðŸ’–</button>
        <button id="noBtn" class="btn">No ðŸ˜œ</button>
    </div>

</div>

<script>
/* -------- MUSIC AUTOPLAY FIX -------- */
const bgMusic = document.getElementById("bgMusic");
document.addEventListener("click", () => {
    bgMusic.play().catch(()=>{});
});

/* -------- THEME TOGGLE -------- */
const themeToggle = document.getElementById("themeToggle");
themeToggle.addEventListener("click", () => {
    document.body.classList.toggle("night");
    themeToggle.textContent =
        document.body.classList.contains("night") ? "â˜€ Day" : "ðŸŒ™ Night";
});

/* -------- TYPEWRITER -------- */
const message = "You make my world brighter every single day âœ¨";
let i = 0;
function typeEffect() {
    if (i < message.length) {
        document.getElementById("typewriter").innerHTML += message.charAt(i);
        i++;
        setTimeout(typeEffect, 60);
    }
}
typeEffect();

/* -------- MOVE NO BUTTON -------- */
const noBtn = document.getElementById("noBtn");
const container = document.querySelector(".buttons");

noBtn.addEventListener("mouseenter", () => {
    const maxX = container.clientWidth - noBtn.offsetWidth;
    const maxY = container.clientHeight - noBtn.offsetHeight;
    noBtn.style.left = Math.random() * maxX + "px";
    noBtn.style.top = Math.random() * maxY + "px";
});

/* -------- FLOATING HEARTS -------- */
function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "ðŸ’–";
    heart.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
}
setInterval(createHeart, 900);

/* -------- FIREWORKS -------- */
const canvas = document.getElementById("fireworksCanvas");
const ctx = canvas.getContext("2d");
let particles = [];
let animationId;

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

function createFirework(x, y) {
    for (let i = 0; i < 70; i++) {
        particles.push({
            x, y,
            angle: Math.random() * 2 * Math.PI,
            speed: Math.random() * 4 + 2,
            alpha: 1
        });
    }
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach((p, i) => {
        p.x += Math.cos(p.angle) * p.speed;
        p.y += Math.sin(p.angle) * p.speed;
        p.alpha -= 0.02;

        ctx.fillStyle = `rgba(255,0,120,${p.alpha})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fill();

        if (p.alpha <= 0) particles.splice(i, 1);
    });

    animationId = requestAnimationFrame(animate);
}
animate();

document.getElementById("yesBtn").addEventListener("click", () => {
    createFirework(window.innerWidth / 2, window.innerHeight / 2);
});
</script>

</body>
</html>
